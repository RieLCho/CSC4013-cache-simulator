# Cache Simulator 개선

-   Original repo: https://github.com/caleb531/cache-simulator
-   동국대학교 컴퓨터공학과 컴퓨터구조 수업 (CSC4013) 과제를 위해 수정하였습니다.

```
yangjin@Ryzen-5600X:~/projects/cache-simulator/cachesimulator$ python3 __main__.py
Running simulation with L1 and L2 caches...
              WordAddr               BinAddr                   Tag                 Index                Offset              Hit/Miss
------------------------------------------------------------------------------------------------------------------------------------
                     1             0000 0001               000 000                     0                     1                  miss
                     2             0000 0010               000 000                     1                     0                  miss
                     3             0000 0011               000 000                     1                     1                   HIT
                     4             0000 0100               000 001                     0                     0                  miss
                     1             0000 0001               000 000                     0                     1                   HIT
                     2             0000 0010               000 000                     1                     0                   HIT
                     3             0000 0011               000 000                     1                     1                   HIT
                     4             0000 0100               000 001                     0                     0                   HIT
                    10             0000 1010               000 010                     1                     0                  miss
                    11             0000 1011               000 010                     1                     1                   HIT
                    12             0000 1100               000 011                     0                     0                  miss
                     1             0000 0001               000 000                     0                     1                   HIT
                     2             0000 0010               000 000                     1                     0                   HIT
                     3             0000 0011               000 000                     1                     1                   HIT
                     4             0000 0100               000 001                     0                     0                  miss

                                                              L1 Cache
------------------------------------------------------------------------------------------------------------------------------------
                                0                                                                 1
------------------------------------------------------------------------------------------------------------------------------------
                               0,1                                                               2,3
                               4,5                                                              10,11

                                                              L2 Cache
------------------------------------------------------------------------------------------------------------------------------------
                                0                                                                 1
------------------------------------------------------------------------------------------------------------------------------------
                               4,5                                                               2,3
                              12,13                                                             10,11

Total Cycles with L2: 618

Running simulation with L1 cache only...
              WordAddr               BinAddr                   Tag                 Index                Offset              Hit/Miss
------------------------------------------------------------------------------------------------------------------------------------
                     1             0000 0001               000 000                     0                     1                  miss
                     2             0000 0010               000 000                     1                     0                  miss
                     3             0000 0011               000 000                     1                     1                   HIT
                     4             0000 0100               000 001                     0                     0                  miss
                     1             0000 0001               000 000                     0                     1                   HIT
                     2             0000 0010               000 000                     1                     0                   HIT
                     3             0000 0011               000 000                     1                     1                   HIT
                     4             0000 0100               000 001                     0                     0                   HIT
                    10             0000 1010               000 010                     1                     0                  miss
                    11             0000 1011               000 010                     1                     1                   HIT
                    12             0000 1100               000 011                     0                     0                  miss
                     1             0000 0001               000 000                     0                     1                  miss
                     2             0000 0010               000 000                     1                     0                   HIT
                     3             0000 0011               000 000                     1                     1                   HIT
                     4             0000 0100               000 001                     0                     0                  miss

                                                              L1 Cache
------------------------------------------------------------------------------------------------------------------------------------
                                0                                                                 1
------------------------------------------------------------------------------------------------------------------------------------
                               0,1                                                               2,3
                               4,5                                                              10,11

Total Cycles with L1 only: 708

Comparison of total cycles:
Total Cycles with L2: 618
Total Cycles with L1 only: 708
```

## 시뮬레이션 설정

캐시 크기: 8 words
세트당 블록 수: 2
블록당 워드 수: 2
교체 정책: LRU
주소 비트 수: 8

사이클 비용:
L1 히트: 1 사이클
L2 히트: 10 사이클
미스: 100 사이클

## 결과 분석

-   L1+L2 캐시의 경우 (618 사이클):미스 (6번): 6 × 100 = 600 + 히트 (9번): 9 × 1 = 9 + L2 히트 (1번): 1 × 10 = 10
    총합: 600 + 9 + 10 = 618 사이클
-   L1 캐시만 사용한 경우 (708 사이클):미스 (7번): 7 × 100 = 700 + 히트 (8번): 8 × 1 = 8
    총합: 700 + 8 = 708 사이클
